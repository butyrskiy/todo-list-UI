(()=>{"use strict";var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{y:()=>d});const e="Inbox",n="Done",o="Low",s=document.querySelector(".add-task__input"),i=document.querySelector(".add-task__form"),a=document.querySelector(".task-list__box");function l(t){a.innerHTML="",t.forEach((t=>{!function(t){const e=`\n  <li class="task__item">\n    <div class="task__item-top">\n      <p class="task__item-name">${t.name}</p>\n    </div>\n    <div class="task__item-bottom">\n      <div class="task__item-bottom-select">\n        <select class="task__item-bottom-priority select" id="priority">\n          <option value="Low">Low</option>\n          <option value="Middle">Middle</option>\n          <option value="High">High</option>\n        </select>\n        <select class="task__item-bottom-status select" id="status">\n          <option value="Inbox">Inbox</option>\n          <option value="In progress">In Progress</option>\n          <option value="Pause">Pause</option>\n          <option value="Done">Done</option>\n        </select>\n      </div>\n      <div class="task__item-bottom-btn">\n        <button title="Delete task" class="btn btn-delete btn-reset">\n        X\n        </button>\n        <button title="Complete task" class="btn btn-done btn-reset" id="btn">\n        V\n        </button>\n      </div>\n    </div>\n  </li>`;a.insertAdjacentHTML("afterbegin",e),document.getElementById("priority").value=t.priority,document.getElementById("status").value=t.status,t.status===n&&(document.querySelector(".task__item-name").classList.add("done"),document.getElementById("priority").setAttribute("disabled","disabled"),document.getElementById("status").setAttribute("disabled","disabled"),document.querySelector(".btn-done").classList.add("btn-off"),document.getElementById("btn").setAttribute("disabled","disabled"))}(t)}))}function c(t){return t.closest(".task__item-bottom").previousElementSibling.firstElementChild.textContent}function r(t){return d.findIndex((e=>e.name===t))}const d=[];i.addEventListener("submit",(function(t){t.preventDefault();const n=s.value;try{if(""===n||n.length>30)throw new Error("Task length name not valid!");!function(t){d.push({name:t,status:e,priority:o}),console.log(d)}(n),l(d),i.reset()}catch(t){console.log(t.message)}})),a.addEventListener("click",(function(t){const e=t.target;if(e.classList.contains("btn-delete")){const n=r(c(e));n>=0?d.splice(n,1):console.error("The task is not defined"),function(t){t.target.closest(".task__item").remove()}(t),l(d),console.log(d)}})),a.addEventListener("click",(function(t){const e=t.target;if(e.classList.contains("btn-done")){const t=r(c(e));d[t].status=n,l(d),console.log(d)}})),a.addEventListener("change",(function(t){const e=t.target,n=e.value;if(e.classList.contains("task__item-bottom-priority")){const t=r(c(e));d[t].priority=n,l(d),console.log(d)}})),a.addEventListener("change",(function(t){const e=t.target,n=e.value;if(e.classList.contains("task__item-bottom-status")){const t=r(c(e));d[t].status=n,l(d),console.log(d)}}))})();